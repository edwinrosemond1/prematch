{"ast":null,"code":"import { getCurrentDate } from \"./getCurrentDate.js\";\nimport { schedule } from \"../SoccerData/ScheduleData.js\";\nexport async function getSoccerSchedule() {\n  let storedData = getCurrentDate() + \"Schedule\";\n\n  if (localStorage.getItem(storedData)) {\n    try {\n      return JSON.parse(localStorage.getItem(storedData));\n    } catch {\n      console.log(\"Bad format for Schedule\");\n    }\n  } else {\n    //build url\n    let url = process.env.REACT_APP_BASE_URL + \"/schedules/\" + getCurrentDate() + \"/schedules.json\";\n    url += \"?api_key=\" + process.env.REACT_APP_API_KEY;\n    console.log(\"fetching\", url); //url = process.env.REACT_APP_TEST_API;\n\n    let response = await fetch(url);\n    console.log(\"soccer schedule response\");\n    console.log(response);\n\n    if (response.ok) {\n      if (1 == 1) {\n        let schedule = await response.json();\n        console.log(schedule);\n        localStorage.setItem(storedData, JSON.stringify(schedule)); //return await schedule;\n\n        return await schedule;\n      }\n\n      throw response;\n    }\n  }\n}","map":{"version":3,"sources":["/Users/edwinrosemond/Documents/Projects/whattowatch/src/services/soccerScheduleDataService.js"],"names":["getCurrentDate","schedule","getSoccerSchedule","storedData","localStorage","getItem","JSON","parse","console","log","url","process","env","REACT_APP_BASE_URL","REACT_APP_API_KEY","response","fetch","ok","json","setItem","stringify"],"mappings":"AAAA,SAASA,cAAT,QAA+B,qBAA/B;AACA,SAASC,QAAT,QAAyB,+BAAzB;AAEA,OAAO,eAAeC,iBAAf,GAAmC;AACxC,MAAIC,UAAU,GAAGH,cAAc,KAAK,UAApC;;AACA,MAAII,YAAY,CAACC,OAAb,CAAqBF,UAArB,CAAJ,EAAsC;AACpC,QAAI;AACF,aAAOG,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqBF,UAArB,CAAX,CAAP;AACD,KAFD,CAEE,MAAM;AACNK,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACD;AACF,GAND,MAMO;AACL;AACA,QAAIC,GAAG,GACLC,OAAO,CAACC,GAAR,CAAYC,kBAAZ,GACA,aADA,GAEAb,cAAc,EAFd,GAGA,iBAJF;AAKAU,IAAAA,GAAG,IAAI,cAAcC,OAAO,CAACC,GAAR,CAAYE,iBAAjC;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBC,GAAxB,EARK,CASL;;AAEA,QAAIK,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAD,CAA1B;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYM,QAAZ;;AACA,QAAIA,QAAQ,CAACE,EAAb,EAAiB;AACf,UAAI,KAAK,CAAT,EAAY;AACV,YAAIhB,QAAQ,GAAG,MAAMc,QAAQ,CAACG,IAAT,EAArB;AACAV,QAAAA,OAAO,CAACC,GAAR,CAAYR,QAAZ;AACAG,QAAAA,YAAY,CAACe,OAAb,CAAqBhB,UAArB,EAAiCG,IAAI,CAACc,SAAL,CAAenB,QAAf,CAAjC,EAHU,CAKV;;AACA,eAAO,MAAMA,QAAb;AACD;;AACD,YAAMc,QAAN;AACD;AACF;AACF","sourcesContent":["import { getCurrentDate } from \"./getCurrentDate.js\";\nimport { schedule } from \"../SoccerData/ScheduleData.js\";\n\nexport async function getSoccerSchedule() {\n  let storedData = getCurrentDate() + \"Schedule\";\n  if (localStorage.getItem(storedData)) {\n    try {\n      return JSON.parse(localStorage.getItem(storedData));\n    } catch {\n      console.log(\"Bad format for Schedule\");\n    }\n  } else {\n    //build url\n    let url =\n      process.env.REACT_APP_BASE_URL +\n      \"/schedules/\" +\n      getCurrentDate() +\n      \"/schedules.json\";\n    url += \"?api_key=\" + process.env.REACT_APP_API_KEY;\n    console.log(\"fetching\", url);\n    //url = process.env.REACT_APP_TEST_API;\n\n    let response = await fetch(url);\n    console.log(\"soccer schedule response\");\n    console.log(response);\n    if (response.ok) {\n      if (1 == 1) {\n        let schedule = await response.json();\n        console.log(schedule);\n        localStorage.setItem(storedData, JSON.stringify(schedule));\n\n        //return await schedule;\n        return await schedule;\n      }\n      throw response;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}